name: Update the common Platform.sh Repository

on:
  push:
    branches:
      - 'develop'
      - 'master'

jobs:
  update-platform-repo:
    runs-on: ubuntu-latest
    steps:
      - name: Update the Platform Repo Submodule for Backend
        uses: peter-evans/repository-dispatch@v3
        with:
          repository: os2ulf/os2udoglaer-frontend
          event-type: update-submodule
          client-payload: '{"submodule": "frontend", "branch": "${{ github.ref_name }}", "commit": "${{ github.sha }}"}'
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
